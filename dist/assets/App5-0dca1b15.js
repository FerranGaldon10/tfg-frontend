import{u as h,r as c,C as g,a as e,j as t,b as k,N as q,i as x,g as P,c as S,d as O,R as I,I as T}from"./index-dba16d46.js";const b=({item:a})=>{const[p,d]=h("global");return c.exports.useContext(g),console.log(a),e("div",{children:t("div",{className:"flex p-5",children:[e("img",{className:"h-24 w-24",src:a.img,alt:""}),e("div",{className:"flex flex-col justify-between ml-4",children:t("div",{children:[e("h1",{className:"text-white text-sm font-semibold pb-1",children:a.name}),t("h2",{className:"font-light text-white text-xs pb-2",children:["€",a.price]}),e("h2",{className:"font-light text-white text-xs",children:a.size}),e("div",{id:"amount",className:"mt-2",children:t("div",{className:"font-light text-white text-xs",children:[p("shop.amount")," ",a.amount]})})]})})]})})};function V(){const[a,p]=h("global"),[d,f]=c.exports.useState(!1),y=()=>{f(!d)},[D,N]=c.exports.useState(0),{cartItems:s}=c.exports.useContext(g);c.exports.useEffect(()=>{N(s==null?void 0:s.reduce((l,r)=>l+r.amount,0))},[s]);const n=s==null?void 0:s.reduce((l,r)=>l+r.amount*r.price,0);let i=0;const m=3;n>100?i=i:i=m;const o=n+i;console.log("Cart Items ",s);const w=JSON.stringify(s),[v,u]=c.exports.useState(!1),j=async l=>{l.preventDefault(),(await fetch("https://tfg-backend-camals.up.railway.app/payform",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l.target.email.value,country:l.target.country.value,name:l.target.name.value,surnames:l.target.surnames.value,street:l.target.street.value,house:l.target.house.value,postal:l.target.postal.value,city:l.target.city.value,state:l.target.state.value,phone:l.target.phone.value,number:l.target.number.value,expire:l.target.expire.value,cvv:l.target.cvv.value,cartitems:w})})).ok&&u(!0)},C=()=>{u(!1);const l="/index.html";window.location.assign(l)};return t("div",{className:"w-full pt-20 flex md:flex-none md:grid md:grid-flow-row md:grid-rows-2",children:[e("div",{className:"w-7/12 h-full md:h-0 md:w-full p-20 md:p-2 md:flex md:flex-row md:justify-center",children:t("div",{children:[e("div",{className:"flex flex-col w-full h-full justify-center items-center md:mt-10 md:mb-10",children:e("a",{href:"/index.html",children:e("img",{src:"/Camals_MainPage.png",className:"w-64 flex justify-center items-center "})})}),t("div",{className:"hidden md:block",children:[t("div",{className:"w-full p-4 bg-gray-100 flex justify-between mt-5",children:[t("button",{onClick:y,className:"font-light text-sm",children:[a("pay.show")," ",e("span",{className:"font-bold",children:"▼"})]}),t("h1",{className:"font-bold",children:[o," €"]})]}),e("div",{children:d&&e("div",{className:"w-5/12 md:w-full bg-cyan-600 ",children:t("div",{className:"w-full p-5",children:[t("div",{className:"p-5",children:[e("hr",{className:"bg-black mt-4 mb-4 border-gray-300 border-1"}),e("h1",{className:"text-white font-medium mt-7 text-lg",children:a("pay.summary")})]}),e("div",{children:s.map((l,r)=>e(b,{item:l},r))}),t("div",{className:"p-5",children:[e("hr",{className:"bg-black mt-8 mb-8 border-gray-300 border-1"}),t("div",{className:"flex justify-between mb-3",children:[e("h1",{className:"text-white font-extralight",children:a("pay.subtotal")}),t("div",{className:"text-white ",children:[n," €"]})]}),t("div",{className:"flex justify-between",children:[e("h1",{className:"text-white font-extralight",children:a("pay.shippingpay")}),t("div",{className:"text-white",children:[m," €"]})]}),t("div",{className:"flex justify-between",children:[e("h1",{className:"text-white font-extralight",children:a("pay.discount")}),e("div",{className:"text-white",children:i===3?"- 0 €":i===0?"- 3 €":""})]}),e("hr",{className:"bg-black mt-8 mb-8 border-gray-300 border-1"}),t("div",{className:"flex justify-between",children:[e("h1",{className:"text-white text-lg font-semibold",children:a("pay.total")}),t("p",{className:"text-white text-2xl font-bold",children:[o," €"]})]})]})]})})})]}),e("hr",{className:"bg-black mt-8 mb-8 border-gray-800 border-1"}),t("form",{onSubmit:j,children:[e("p",{className:"text-lg mb-4",children:a("pay.info")}),e("input",{className:"w-full h-12 p-2 border bg-gray-50",type:"text",name:"email",placeholder:a("pay.infoplaceholder"),required:!0}),e("p",{className:"text-lg mt-8 mb-4",children:a("pay.shipping")}),e("input",{className:"w-full h-12 mb-2 p-2 border bg-gray-50",type:"text",name:"country",placeholder:a("pay.country"),required:!0}),t("div",{className:"flex",children:[e("input",{className:"w-full h-12 mb-2 p-2 border bg-gray-50 mr-2",type:"text",name:"name",placeholder:a("pay.name"),required:!0}),e("input",{className:"w-full h-12 mb-2 p-2 border bg-gray-50",type:"text",name:"surnames",placeholder:a("pay.surnames"),required:!0})]}),e("input",{className:"w-full h-12 mb-2 p-2 border bg-gray-50",type:"text",name:"street",placeholder:a("pay.street"),required:!0}),e("input",{className:"w-full h-12 mb-2 p-2 border bg-gray-50",type:"text",name:"house",placeholder:a("pay.house")}),t("div",{className:"flex",children:[e("input",{className:"w-full h-12 mb-2 p-2 border bg-gray-50 mr-2",type:"text",name:"postal",placeholder:a("pay.postal"),required:!0}),e("input",{className:"w-full h-12 mb-2 p-2 border bg-gray-50 mr-2",type:"text",name:"city",placeholder:a("pay.city"),required:!0}),e("input",{className:"w-full h-12 mb-2 p-2 border bg-gray-50",type:"text",name:"state",placeholder:a("pay.state"),required:!0})]}),e("input",{className:"w-full h-12 mb-2 p-2 border bg-gray-50",type:"text",name:"phone",placeholder:a("pay.phone"),required:!0}),e("p",{className:"mt-8 mb-4 text-lg",children:a("pay.payment")}),t("div",{className:" border border-gray-300 p-4",children:[e("p",{className:"mb-2",children:a("pay.card")}),t("div",{className:"flex mb-2",children:[e("input",{className:"w-full h-12 mb-2 p-2 border bg-gray-50 mr-2",type:"text",name:"number",placeholder:a("pay.number"),required:!0}),e("input",{className:"w-full h-12 mb-2 p-2 border bg-gray-50 mr-2",type:"month",name:"expire",placeholder:a("pay.expire"),required:!0}),e("input",{className:"w-full h-12 mb-2 p-2 border bg-gray-50",type:"text",name:"cvv",maxLength:4,placeholder:"CVV/CVC",required:!0})]}),t("div",{className:"flex mb-2",children:[e("img",{className:"w-6 h-6 ml-2",src:"/visa.svg",alt:""}),e("img",{className:"w-6 h-6 ml-2",src:"/amex.svg",alt:""}),e("img",{className:"w-6 h-6 ml-2",src:"/mastercard.svg",alt:""})]})]}),t("div",{className:"flex justify-between mt-8",children:[e("button",{className:"font-light",children:t("a",{href:"/pages/App2.html",children:["- ",a("pay.button1")," -"]})}),e("button",{type:"submit",className:"bg-cyan-600 text-white p-5 text-sm font-light",children:a("pay.button2")})]})]}),v&&e("div",{className:"fixed z-10 inset-0 flex items-center justify-center",children:t("div",{className:"bg-cyan-500 relative p-5 rounded",children:[e("button",{className:"absolute top-0 right-0 m-2 mr-4 text-white",onClick:C,children:"X"}),e("div",{className:"text-center font-bold m-3 mt-5 text-white",children:"Compra realizada con exito"})]})})]})}),e("div",{className:"w-5/12 md:w-full bg-cyan-600 md:hidden",children:t("div",{className:"w-full p-5",children:[t("div",{className:"p-5",children:[e("hr",{className:"bg-black mt-16 mb-4 border-gray-300 border-1"}),e("h1",{className:"text-white font-medium mt-7 text-lg",children:a("pay.summary")})]}),e("div",{children:s.map((l,r)=>e(b,{item:l},r))}),t("div",{className:"p-5",children:[e("hr",{className:"bg-black mt-8 mb-8 border-gray-300 border-1"}),t("div",{className:"flex justify-between mb-3",children:[e("h1",{className:"text-white font-extralight",children:a("pay.subtotal")}),t("div",{className:"text-white ",children:[n," €"]})]}),t("div",{className:"flex justify-between mb-3",children:[e("h1",{className:"text-white font-extralight",children:a("pay.shippingpay")}),t("div",{className:"text-white",children:["+ ",m," €"]})]}),t("div",{className:"flex justify-between",children:[e("h1",{className:"text-white font-extralight",children:a("pay.discount")}),e("div",{className:"text-white",children:i===3?"- 0 €":i===0?"- 3 €":""})]}),e("hr",{className:"bg-black mt-8 mb-8 border-gray-300 border-1"}),t("div",{className:"flex justify-between",children:[e("h1",{className:"text-white text-lg font-semibold",children:a("pay.total")}),t("p",{className:"text-white text-2xl font-bold",children:[o," €"]})]})]})]})})]})}function z(){return h("global"),t(k,{children:[e(q,{}),e(V,{})]})}x.init({interpolation:{escapeValue:!1},lng:"en",resources:{es:{global:P},en:{global:S}}});O.createRoot(document.getElementById("root5")).render(e(I.StrictMode,{children:e(T,{i18n:x,children:e(z,{})})}));
